---
title: Restful 웹 api 설계
description: 
author: codongmin
date: 2025-02-22
categories:
  - 웹
tags: 
image:
  path: /assets/img/thumbnail/.png
  lqip: 
  alt: 이미지 설명
---


대부분의 현재 웹 애플리케이션은 클라이언트와 애플리케이션(서버)가 요청과 응답을 주고 받을 수 있도록 API를 사용한다. 잘 설계되어 있는 웹 API는 다음과 같은 특성들을 가지기 마련이다. 

- 플랫폼 독립성 
- 서비스 


## REST 란 무엇일까?

REST 는 웹 기반 시스템을 확장성 있고 유연하게 설계하기 위한 **아키텍처 스타일**을 말함. 즉, 특정한 구현방식이 아니라 "다음과 같은 **제약들을** 따르는 설계를 할 경우 **확장성**과 **유연성**이 좋아진다"라는 일종의 설계 원칙이다. 그리고 그 제약들을 잘 지킬 경우 RESTful하다고 표현한다.

그래서 RESTful API라는 것은 이(REST) 설계원칙을 따라서 설계된 API를 의미한다. 최근 현재의 웹 애플리케이션들은 RESTful한 API 설계하는 방식들을 많이 따른다. 

그리고 이 REST는 웹이 가지는 특성들을 활용해 웹 애플리케이션의 확장성과 유용성을 극대화하는 방향으로 정의되었다.

### REST의 제약조건들

웹 애플리케이션, 시스템이 확장성 있고 유연하게, 설계되려면 어떤 제약 조건들을 지키면 될까? 

#### 1. 클라이언트-서버구조

클라이언트와 서버의 역할이 나눠져야 한다. 클라이언트는 데이터를 요청하고, 서버는 클라이언트가 필요로 하는 요청을 처리해서 다시 반환해주는 역할을 한다. 대부분 클라이언트는 사용자와 밀접하게 붙어있어 사용자가 필요로 하는 데이터나 요청을 적절하게 반환해 서버로 전송하는 역할을 담당한다. 서버는 이를 받아 데이터를 저장하거나, 조회, 처리해서 요청에 적절한 응답을 반환하는 역할을 한다. 

이렇게 두 가지 역할로 분리함으로 클라이언트와 서버가 유연하게 독립적으로 확장할 수 있다. 그렇기 때문에서 서로의 변경의 영향이 최소화 될 수 있다. 그리고 이 구조에서 서로 요청과 응답을 주고 받을 수 있게 약속한 것을 API라고 부른다.

#### 2. 무상태성

서버는 클라이언트의 상태를 가지고 있지 않는다. 모든 요청은 독립적이고, 필요한 모든 정보들을 포함하고 있어야 한다. 클라이언트가 여러 번 요청하더라도 서버는 이전 요청과의 연결성을 가지고 있지 않는다. 

무상태성 덕분에 **구현이 단순해지고, 확장성이 높아진다**. 확장성이 높아지는 이유는 각 요청이 독립적이기 때문에, 해당 요청을 처리할 수 있는 여러 서버가 존재하는 경우 어떤 서버에 요청을 전달하더라도 응답이 가능하다. 요청이 많아지게 된다면, 동일한 서버를 한대 더 늘리면 된다. 

하지만 만약 상태가 존재한다면, 이전 상태를 가지고 있는 서버에 요청을 보내야하기 때문에 단순히 서버를 늘리는 것만으로는 문제가 해결되지 않을 가능성이 높다.

#### 3. 캐시 처리 가능 

클라이언트와 서버 간 불필요한 요청을 줄이기 위해 응답을 캐싱할 수 있어야 한다. 

#### 4. 일관된 인터페이스 


#### 5. 계층화된 시스템 


#### 6. Code on Demand (Optional)


REST는 본래 어떤 기본 프로토콜과도 독립적인 아키텍쳐이고, HTTP로 연결되어야 한다는 것은 아님. 그러나 대부분의 일반적인 REST API 구현은 HTTP를 애플리케이션 프로토콜로 사용하곤함. 
### REST는 HTTP 프로토콜일까? 
일반적으로 RESTful 한 API를 설계한다고 하면 HTTP 프로토콜을 의미한다는 내용과 동일하게 받아들여질 수 있지만 이 둘이 동일한 관계는 아님. 

REST는 API를 설계하는 스타일이지, 특정 프로토콜을 의미하는 것은 아니다. 다만, 주로 HTTP를 기반으로 REST를 구현하기 때문에 자주 혼동된다. 이 둘의 관계는 REST는 방법론, 이를 구현하기 위한 기반이 HTTP일 수 있다. 
- 이론적으로는 HTTP 뿐만 아니라 FTP, WebSocket과 같은 다른 프로토콜 위에서도 REST 원칙을 적용할 수 있다. 

REST 는 웹 서비스 설계를 위한 원칙과 제약들을 정의한 방식이고, HTTP는 웹에서 데이터를 주고받기 위한 프로토콜이다. 

## REST(ful) API란 무엇일까?

REST API는 REST의 제약조건들을 준수하는 API를 의미한다. 개인적으로는 위의 6가지 제약조건 중 구체적으로 API 설계와 관련된 항목은 "일관된 인터페이스"이지 않을까 싶다. 나머지 요소들도 REST(ful)한 API를 구성하는데 있어 중요한 제약조건들이지만, 이를 설계하는 입장에서는 간접적 혹은 인프라 측면에서의 연관성이 깊은 제약조건들이다. 

"일관된 인터페이스" 제약조건들은 다음과 같이 구성되어져 있다.

1. 자원에 대한 식별 
	- 자원을 객체로 식별함. (상태가 변화한다.) 이러한 객체들의 상태에 의존하기보다 변하지 않는 객체들의 식별자에 의존하자. -> URI를 통해 자원을 식별해야한다. 
2. 표현을 통해 자원을 조작해야 한다.


### API 성숙도 

효용성이 있나?

### 적절한 수준의 REST API 설계하기



## 참고 자료 

- https://learn.microsoft.com/ko-kr/azure/architecture/best-practices/api-design
- https://dev-coco.tistory.com/97
- https://www.youtube.com/watch?v=Nxi8Ur89Akw&ab_channel=%EC%9A%B0%EC%95%84%ED%95%9C%ED%85%8C%ED%81%AC